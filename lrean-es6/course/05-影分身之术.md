# 05-影分身之术.md

👯 欢迎来到第五课！

今天我们要学一个非常强大且魔性的符号：**三个点 `...`**。
在 ES6 里，它有两个名字：**展开运算符 (Spread)** 和 **剩余参数 (Rest)**。

它就像火影忍者里的影分身，可以把一个东西变成多个，或者把多个东西聚成一个。

## 🐣 基础用法

### 1. 展开 (Spread)：把东西“摊开”

想象你有一袋豆子（数组），你想把它倒出来散在桌子上。

**合并数组**：
```javascript
const groupA = [1, 2];
const groupB = [3, 4];

// 以前：groupA.concat(groupB)
// 现在：暴力拆包！
const all = [...groupA, ...groupB]; // [1, 2, 3, 4]
```

**克隆对象**（浅拷贝）：
```javascript
const cat = { name: "咪咪", color: "white" };
// 复制一只猫，并且改个颜色
const blackCat = { ...cat, color: "black" };

console.log(blackCat); // { name: "咪咪", color: "black" }
console.log(cat); // 原来的猫还在，不受影响！
```

### 2. 剩余 (Rest)：把东西“装袋”

如果 `...` 用在赋值的左边或者函数参数里，它就是“收集器”。

**函数参数**：
```javascript
// 我不管你传多少个参数，我都把剩下的装进 args 数组里
function sum(first, ...others) {
  console.log("第一个是：", first);
  console.log("剩下的：", others);
}

sum(1, 2, 3, 4); 
// 第一个是：1
// 剩下的：[2, 3, 4]
```

**解构剩余**：
```javascript
const { a, ...rest } = { a: 1, b: 2, c: 3 };
console.log(a); // 1
console.log(rest); // { b: 2, c: 3 } -> 剩下的都打包给你
```

## 🎭 场景实战

### Vue (Nuxt) 中的用法

在 Pinia (状态管理) 或者处理对象时经常用。

```javascript
// 更新用户信息，只修改部分字段，其他保留
const updateUser = (newData) => {
  state.user = {
    ...state.user, // 先把旧的属性都展开
    ...newData     // 再把新的属性覆盖上去
  };
};
```

### React (Next) 中的用法

React 极其依赖不可变数据（Immutable），`...` 是神器。

**更新 State**：
```javascript
const [user, setUser] = useState({ name: 'Trae', age: 18 });

const growUp = () => {
  // ❌ 错误：user.age = 19; (React 根本不知道你改了)
  // ✅ 正确：创建一个新对象
  setUser({ ...user, age: 19 });
};
```

**传递 Props**：
```javascript
const props = { className: "btn", id: "submit", type: "submit" };

// 把所有 props 一股脑传给 button，不用一个个写
// 等价于 <button className="btn" id="submit" type="submit">
return <button {...props}>提交</button>;
```

## 🧠 总结

- 想合并数组/对象？用 `...`。
- 想修改对象里的某一个属性但保留其他的？用 `...`。
- 函数参数太多不知道有几个？用 `...`。
- **React 开发必备技能**，一定要熟练！

## ✍️ 课后作业

1.  有两个数组 `a = [1, 2]` 和 `b = [3, 4]`，请用 `...` 把它俩合并成 `[1, 2, 3, 4]`。
2.  有一个对象 `info = { name: "A", height: 180 }`，请用 `...` 创建一个新对象 `newInfo`，保留 `name`，但把 `height` 改成 185，并增加一个属性 `weight: 70`。

---
**下一课预告**：还在写 `for` 循环遍历数组？太 Low 了！教你做一名优雅的“循环杀手”。🔄


## 🟢 XXG作业：
```javascript
const a = [1, 2]
const b = [3, 4]
const c = [...a,...b]

const info = { name: "A", height: 180 }
const newInfo = {...info, height:185, weight:70}

```