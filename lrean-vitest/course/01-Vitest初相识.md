# 01- Vitest 初相识：Vite 的亲兄弟 👬

## 👋 嗨，同学！

你已经认识了 **Vite**（法语意为“快”），它就像是一个**超级快速的建筑师** 👷‍♂️，能飞快地帮你把代码搭建成一个漂亮的网站。

但是，只有建筑师是不够的。万一盖好的房子窗户装反了？或者门打不开怎么办？🤔

这时候，就需要一位**专业的质检员** 🕵️‍♂️ —— 这就是 **Vitest**！

---

## 🧐 Vitest 到底是什么？

简单来说：**Vitest 是专门为 Vite 项目打造的单元测试框架。**

### 🌰 举个栗子

- **Vite (建筑师)**：负责把砖块（代码）砌成房子（网站）。它的口号是：“天下武功，唯快不破！” ⚡️
- **Vitest (质检员)**：负责在房子盖好之前（或者边盖边查），检查每一块砖是不是结实，水管漏不漏水。它的口号是：“既然你是 Vite 盖的，那我查起来也超级快！” 🚀

它们俩是**亲兄弟**，穿一条裤子长大的。这意味着：**它们可以共用同一份图纸（配置文件 `vite.config.ts`）！** 🤯

---

## 🆚 为什么不找别的质检员（比如 Jest）？

以前，大家常用的质检员叫 **Jest**。它很资深，也很强大，但是它和 Vite 建筑师**语言不通**。

- **Jest**：嘿，Vite，把你那套高科技图纸翻译成我能看懂的老古董格式，我才能开始检查。🐢
- **Vitest**：哥！我都懂！你的配置就是我的配置，你的插件就是我的插件，咱们直接开干！⚡️

**Vitest 的超能力：**
1.  **极速**：利用 Vite 的技术，热更新（HMR）快得飞起。改一行代码，测试结果瞬间就变了。
2.  **零配置**：如果你已经配置好了 Vite，Vitest 通常可以直接运行，不需要再写一大堆 `jest.config.js`。
3.  **兼容性好**：它的 API 设计得和 Jest 很像。如果你以前用过 Jest，几乎可以无缝切换（就像从开丰田换到开本田，油门刹车位置都一样）。

---

## 💻 来看个代码小剧场

假设我们写了一个简单的加法函数（这是我们盖的一块小砖头）：

```javascript
// sum.js
export function sum(a, b) {
  return a + b
}
```

**Vitest 质检员** 会这样工作：

```javascript
// sum.test.js
// 引入 Vitest 的测试工具（这些词跟英语一样好懂）
import { expect, test } from 'vitest'
import { sum } from './sum'

test('1 加 2 应该等于 3', () => {
  // 这里的 expect 就是 "期待"
  // toBe 就是 "是"
  // 连起来读：期待 sum(1, 2) 的结果是 3
  expect(sum(1, 2)).toBe(3) 
})
```

如果你不小心把 `sum` 写成了 `a - b`，Vitest 马上就会在控制台大喊：
> ❌ **测试失败！**
> 期待：3
> 实际收到：-1
> （哪怕你只改了一个字符，它也能瞬间发现！）

---

## 📝 总结

- **Vite** 是**构建工具**（造房子的）。
- **Vitest** 是**测试框架**（验房子的）。
- 它们是**天生一对**，配合默契，速度极快。
- 它可以让你写代码时**更有安全感**，不用担心改了一个 Bug 却造出十个新 Bug。🛡️

下次有人问你 Vitest 是什么，你就告诉他：**它是最懂 Vite 的那个极速质检员！** 😎
