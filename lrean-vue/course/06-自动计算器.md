# 06-自动计算器 🧮

## 😫 模板里写逻辑？太丑了！

假设我们有个购物车，我们要算总价。
你可能会在模板里这样写：
`{{ cart.price * cart.quantity * cart.discount }}`

如果这个逻辑很长，你的 HTML 就会变得像乱码一样难看。
而且，如果页面重绘，它每次都要重新算一遍，浪费性能！

## ✨ `computed` 闪亮登场

`computed` (计算属性) 就像一个智能的缓存计算器。
它依赖的数据变了，它才会重新算；数据没变，它直接把上次算好的结果给你（这就叫**缓存**）。

### 🌰 举个栗子

```html
<script setup>
  import { ref, computed } from 'vue';

  const price = ref(100);
  const count = ref(2);

  // 定义一个计算属性
  // 注意：computed 里面要返回一个值
  const totalPrice = computed(() => {
    // 这里的逻辑稍微复杂一点也没关系
    return price.value * count.value;
  });
</script>

<template>
  <h1>单价：{{ price }}</h1>
  <h1>数量：{{ count }}</h1>
  
  <!-- 使用的时候，就像用普通变量一样！不需要加括号 () -->
  <h1>总价：{{ totalPrice }}</h1>
  
  <button @click="count++">再买一个</button>
</template>
```

当你点击按钮，`count` 变了，`totalPrice` 才会自动更新。
如果你不点按钮，页面随便怎么刷新，`totalPrice` 都不会重新计算，直接拿缓存。

## 🎒 课后小结

- 当你需要根据现有的数据“算出”一个新的数据时，用 `computed`。
- 它有缓存，性能好。
- 它在模板里用起来和普通变量一样。

下一节课，我们学习如何当一个“偷窥狂”，监听数据的变化！🕵️‍♂️
