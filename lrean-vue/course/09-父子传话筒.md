# 09-父子传话筒 📞

## 👨‍👦 爸爸给儿子钱，儿子告诉爸爸钱花完了

组件之间不是孤岛，它们需要交流。
- **父传子**：Props (属性)。就像爸爸给儿子零花钱。
- **子传父**：Emits (事件)。就像儿子考了100分，回家告诉爸爸。

## 1. Props (父传子)

在子组件里，我们需要声明“我能接收什么”。

**子组件 (Son.vue):**
```html
<script setup>
  // 定义 props，告诉 Vue 我需要接收一个叫 'money' 的数字
  // 还可以接收 'msg' 字符串
  const props = defineProps({
    money: Number,
    msg: String
  });
  
  // 在 JS 里用 props.money 访问
  console.log(props.money);
</script>

<template>
  <div class="son">
    <h3>我是儿子</h3>
    <!-- 在模板里直接用 -->
    <p>爸爸说了：{{ msg }}</p>
    <p>爸爸给了：{{ money }} 元</p>
  </div>
</template>
```

**父组件 (Father.vue):**
```html
<script setup>
  import Son from './Son.vue';
  import { ref } from 'vue';
  
  const myMoney = ref(100);
</script>

<template>
  <div class="father">
    <h1>我是爸爸</h1>
    <!-- 用 : 绑定数据传过去 -->
    <Son :money="myMoney" msg="省着点花！" />
  </div>
</template>
```

## 2. Emits (子传父)

儿子想跟爸爸说话，不能直接改爸爸的钱（Props 是只读的！单向数据流）。
儿子必须**发出一个信号**（事件），让爸爸自己去改。

**子组件 (Son.vue):**
```html
<script setup>
  // 1. 定义我可以发出什么事件
  const emit = defineEmits(['spent']);

  const buyCandy = () => {
    // 2. 发出 'spent' 事件，并附带参数 5 (花了5块)
    emit('spent', 5);
  };
</script>

<template>
  <button @click="buyCandy">买糖吃 (花5块)</button>
</template>
```

**父组件 (Father.vue):**
```html
<script setup>
  import Son from './Son.vue';
  import { ref } from 'vue';
  
  const myMoney = ref(100);
  
  // 处理儿子的信号
  const handleSpent = (amount) => {
    myMoney.value -= amount;
  };
</script>

<template>
  <!-- 监听儿子的 'spent' 事件 -->
  <Son :money="myMoney" @spent="handleSpent" />
</template>
```

## 🎒 课后小结

- **Props**: 父 -> 子。子组件用 `defineProps` 接收。
- **Emits**: 子 -> 父。子组件用 `defineEmits` 定义，用 `emit()` 发送。
- 数据流向：**数据向下流，事件向上走**。

这是组件通信最基础也是最重要的部分！掌握了这个，你就能处理 80% 的组件交互了。

下一节课，也就是最后一节基础课，我们来讲讲“生命周期”。🌱
