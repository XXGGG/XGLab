# 05-神奇的响应式盒子 🎁

## 😱 为什么我的变量变了，页面不动？

试想一下，你写了这样的代码：
```js
let count = 0;
const add = () => {
  count++; // count 变成了 1
  console.log(count); // 控制台打印了 1
}
```
但是在页面上 `{{ count }}` 还是显示的 0。为什么？
因为 **Vue 不知道 count 变了**。它只是一个普通的 JavaScript 变量，没啥特权。

为了让 Vue 盯着它，我们需要把它放进一个 **神奇的盒子** 里。

## 1. `ref()` —— 基础款神奇盒子

`ref` 用来包裹简单的值（数字、字符串、布尔值）。

### 🌰 举个栗子

```html
<script setup>
  // 1. 引入 ref
  import { ref } from 'vue';

  // 2. 使用 ref 包裹初始值
  // 现在 count 不是一个数字了，它是一个对象（盒子）
  const count = ref(0);

  const add = () => {
    // 3. ⚠️ 修改的时候，要打开盒子！用 .value
    count.value++; 
  };
</script>

<template>
  <!-- 4. 在模板里，Vue 会自动帮你拆开盒子，不需要写 .value -->
  <h1>当前计数：{{ count }}</h1>
  <button @click="add">+1</button>
</template>
```

**记住口诀：JS 里要点 value，模板里不用点！**

## 2. `reactive()` —— 豪华版神奇袋子

如果你有一堆数据（对象），可以用 `reactive`。

### 🌰 举个栗子

```html
<script setup>
  import { reactive } from 'vue';

  // reactive 直接包裹对象
  const user = reactive({
    name: '小明',
    age: 18,
    wallet: 100
  });

  const haveBirthday = () => {
    // reactive 不需要 .value！直接改！
    user.age++;
    user.wallet += 500; // 生日收红包
  };
</script>

<template>
  <div>
    <p>姓名：{{ user.name }}</p>
    <p>年龄：{{ user.age }}</p>
    <p>钱包：{{ user.wallet }}</p>
    <button @click="haveBirthday">过生日</button>
  </div>
</template>
```

## 🤔 `ref` vs `reactive`？到底用哪个？

这是 Vue 社区的千古难题。
但我是讲师，我说了算！对于小白，我给你一个 **简单粗暴的建议**：

👉 **全都用 `ref`！**
👉 **全都用 `ref`！**
👉 **全都用 `ref`！**

为什么？
1. `ref` 可以包数字，也可以包对象（它内部会自动转成 reactive）。
2. 用 `ref` 你永远知道哪里需要 `.value`，哪里不需要。
3. `reactive` 有时候解构会丢失响应性（新手很容易踩坑）。

所以，作为新手，**一把 `ref` 走天下** 就完事了！等你变成大佬了再去纠结 `reactive`。

## 🎒 课后小结

- 普通变量 Vue 看不见。
- 用 `ref()` 包裹变量，它就变成了响应式的（会动的）。
- 在 `<script>` 里修改 `ref` 要加 `.value`。
- 在 `<template>` 里使用 `ref` **不用**加 `.value`。
- 实在纠结用啥，就无脑用 `ref`。

恭喜你！你已经掌握了 Vue 90% 的核心魔法！🎉
